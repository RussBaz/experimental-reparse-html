# Reparse - HTML Server Side Templating Super Powers in Swift (Experimental)

## Three Core Concepts

1. Super Powerful and Flexible Syntax
2. HTML Templating (and not a text templating)
3. Templates are Compiled into the Swift Code

## Example

You can find a `Vapor` example in the `Sources/Example` folder.

`Sources/Example/pages.swift` file was generated by the following command (from the project root):

```
swift run reparse $(pwd)/Resources/Pages $(pwd)/Sources/Example --file-name=pages.swift --imports=Vapor --parameters=req:Request
```

The templates are stored in the `Resources/Pages` folder as plain html files.

If you would like to use it in your own project, you would need to add the `ReparseRuntime` as a dependency to your project.

## Syntax

All special attributes and tags will be removed by the compilation and must not appear in the output of the render function. If they do, then it is a bug.

### Control Attributes

There are a few types of control attributes and can be separated in 3 groups:

#### Conditionals

Most html tags can be equipped with one of the conditional control attributes:

- **r-if="condition"**
- **r-else-if="condition"**
- **r-else**

If the condition (which must be a valid Swift expression) is satisfied than the html tag and its contents are rendered.

If the condition is satisfied, then a special variable called `previousUnnamedIfTaken` will be set to true. Otherwise, it will be set to false.

Optionally, you can save the result of the condition to a different variable using an additional attribute:

- **r-tag="tag-name"**

#### Loops

- **r-for-every="sequence"**

#### Slots

- **r-add-to-slot="slot-name"**
- **r-replace-slot="slot-name"**

### Control Tags

- **r-extend** (must be before any tag other than r-require)
- **r-require** (must be before any tag other than r-extend)
- **r-include**
- **r-block**
- **r-set**
- **r-unset**
- **r-var**
- **r-value**
- **r-eval**
- **r-slot**
- **r-index** (inside the loops only)
- **r-value** (inside the loops only)
